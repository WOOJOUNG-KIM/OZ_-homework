<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <title>Admin Page</title>
  <style>
    /* ë‹¤í¬ ëª¨ë“œ ìŠ¤íƒ€ì¼ */
    .dark-mode {
      background-color: #121212;
      color: white;
    }
    .dark-mode table {
      background-color: #1e1e1e;
    }
  </style>
</head>
<body>
  <div class="container mt-3">
    <!-- ë‹¤í¬ ëª¨ë“œ ë²„íŠ¼, ì˜¤ëŠ˜ ë‚ ì§œ ë° ì‹œê°„ í‘œì‹œ -->
    <div class="d-flex justify-content-between align-items-center">
      <h3 class="mt-5 mb-3">ì‹ ê·œ ë“±ë¡ ìƒí’ˆ</h3>
      <button class="btn btn-secondary" onclick="toggleDarkMode()">ğŸŒ™ ë‹¤í¬ ëª¨ë“œ</button>
    </div>

    <div class="d-flex justify-content-between align-items-center mb-3">
      <span id="currentDateTime"></span>
      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#signupModal">íšŒì›ê°€ì…</button>
    </div>

    <!-- í•„í„°ë§ í¼ -->
    <form class="row row-cols-lg-auto g-3 align-items-center">
      <div class="col-12">
        <label class="visually-hidden" for="categorySelect">ì¹´í…Œê³ ë¦¬ ì„ íƒ</label>
        <select class="form-select" id="categorySelect" onchange="filterProducts()">
          <option value="all">ì „ì²´</option>
          <option value="ìƒì˜">ìƒì˜</option>
          <option value="í•˜ì˜">í•˜ì˜</option>
          <option value="ì‹ ë°œ">ì‹ ë°œ</option>
          <option value="íŒ¨ì…˜ì¡í™”">íŒ¨ì…˜ì¡í™”</option>
        </select>
      </div>
      <div class="col-3">
        <input type="text" class="form-control" id="searchInput" placeholder="ìƒí’ˆëª… ê²€ìƒ‰" onkeyup="filterProducts()">
      </div>
    </form>

    <!-- ì œí’ˆ ë¦¬ìŠ¤íŠ¸ í…Œì´ë¸” -->
    <div class="container mt-3">
      <table class="table table-sm">
        <thead>
          <tr>
            <th>ì¹´í…Œê³ ë¦¬</th>
            <th>ë¸Œëœë“œ</th>
            <th>ìƒí’ˆëª…</th>
            <th>ê°€ê²©</th>
          </tr>
        </thead>
        <tbody id="product_data_Table">
        </tbody>
      </table>
    </div>

    <!-- í˜ì´ì§€ ë„¤ì´ì…˜ -->
    <nav>
      <ul class="pagination justify-content-center" id="pagination">
      </ul>
    </nav>
  </div>

  <script>
    // ì œí’ˆ ë°ì´í„°
    const product_data = [
      { category: "ìƒì˜", brand: 'Supreme', product: 'ìŠˆí”„ë¦¼ ë°•ìŠ¤ë¡œê³  í›„ë“œí‹°', price: '390,000' },
      { category: "í•˜ì˜", brand: 'DIESEL', product: 'ë””ì ¤ íŠ¸ë™ íŒ¬ì¸ ', price: '188,000' },
      { category: "ì‹ ë°œ", brand: 'Nike', product: 'ì—ì–´í¬ìŠ¤ 1', price: '137,000' },
      { category: "íŒ¨ì…˜ì¡í™”", brand: 'Music&Goods', product: 'ë¹µë¹µì´ í‚¤ë§', price: '29,000' },
      { category: "ìƒì˜", brand: 'Nike', product: 'ë‚˜ì´í‚¤ ìŠ¤ìš°ì‹œ ë§¨íˆ¬ë§¨', price: '89,000' },
      { category: "í•˜ì˜", brand: 'Adidas', product: 'ì•„ë””ë‹¤ìŠ¤ ì¡°ê±° íŒ¬ì¸ ', price: '78,000' },
      { category: "ì‹ ë°œ", brand: 'New Balance', product: 'ë‰´ë°œë€ìŠ¤ 530', price: '139,000' },
      { category: "íŒ¨ì…˜ì¡í™”", brand: 'GUCCI', product: 'êµ¬ì°Œ ì¹´ë“œì§€ê°‘', price: '490,000' }
    ];

    let filteredData = [...product_data];
    const product_data_Table = document.getElementById('product_data_Table');
    const pagination = document.getElementById('pagination');

    const itemsPerPage = 3;
    let currentPage = 1;

    // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
    function loadTableData(page = 1) {
      product_data_Table.innerHTML = ""; // ê¸°ì¡´ ë°ì´í„° ì´ˆê¸°í™”
      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedData = filteredData.slice(startIndex, endIndex);

      paginatedData.forEach((item) => {
        const row = product_data_Table.insertRow();
        row.insertCell(0).innerHTML = item.category;
        row.insertCell(1).innerHTML = item.brand;
        row.insertCell(2).innerHTML = item.product;
        row.insertCell(3).innerHTML = item.price;
      });

      setupPagination(filteredData, page);
    }

    // í•„í„°ë§ ê¸°ëŠ¥
    function filterProducts() {
      const category = document.getElementById('categorySelect').value;
      const searchText = document.getElementById('searchInput').value.toLowerCase();

      filteredData = product_data.filter(item => {
        const matchesCategory = category === "all" || item.category === category;
        const matchesSearch = item.product.toLowerCase().includes(searchText);
        return matchesCategory && matchesSearch;
      });

      currentPage = 1;
      loadTableData(currentPage);
    }

    // í˜ì´ì§€ë„¤ì´ì…˜ ì„¤ì •
    function setupPagination(data, page) {
      pagination.innerHTML = ""; // ê¸°ì¡´ í˜ì´ì§€ë„¤ì´ì…˜ ì´ˆê¸°í™”
      const pageCount = Math.ceil(data.length / itemsPerPage);

      for (let i = 1; i <= pageCount; i++) {
        const li = document.createElement('li');
        li.classList.add('page-item');
        if (i === page) li.classList.add('active');

        const link = document.createElement('a');
        link.classList.add('page-link');
        link.innerText = i;
        link.href = "#";
        link.onclick = (e) => {
          e.preventDefault();
          currentPage = i;
          loadTableData(currentPage);
        };

        li.appendChild(link);
        pagination.appendChild(li);
      }
    }

    // ë‹¤í¬ ëª¨ë“œ í† ê¸€
    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
    }

    // ì‹¤ì‹œê°„ ë‚ ì§œ ë° ì‹œê°„ ì—…ë°ì´íŠ¸
    function updateDateTime() {
      const now = new Date();
      const formattedDate = now.toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric' });
      const formattedTime = now.toLocaleTimeString('ko-KR');
      document.getElementById('currentDateTime').textContent = `ğŸ“… ${formattedDate} â° ${formattedTime}`;
    }
    setInterval(updateDateTime, 1000); // 1ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸

    // ì´ˆê¸° ì‹¤í–‰
    loadTableData();
    updateDateTime();
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
